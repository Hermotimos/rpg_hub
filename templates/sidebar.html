{% load static %}


{% block head_extra %}
    <link rel="stylesheet" href="{% static 'css/sidebar-nonmobile.css' %}">
{% endblock head_extra %}


<div class="sidebar-nonmobile">
    <aside>

        <a href="{% url 'prosoponomikon:character' request.current_profile.character.id %}"
            data-toggle="tooltip" data-placement="bottom" title="Pokaż Kartę Postaci">
            <div class="img-hover-zoom border-double">
                <img src="{{ request.current_profile.image.url }}">
            </div>
        </a>

        <p class="font-resp-1_5 text-center mb-0">
            <a href="{% url 'prosoponomikon:character' request.current_profile.character.id %}">
               {{ request.current_profile.character.fullname }}
            </a>
            <div class="btn-light text-center p-0 mb-2 mt-n2"
                data-toggle="collapse" data-target="#characters">
                <i class="icon-down-open icon-medium ml-auto"></i>
                <li id="characters" class="list-group collapse overflow-auto border" style="max-height: 15rem;"">
                    {% for profile in user.get_profiles %}
                        <a class="list-group-item list-group-item-sm" href="{% url 'users:switch-profile' profile.id %}">
                            <small>{{ profile.character.fullname }}</small>
                        </a>
                    {% endfor %}
                </li>
            </div>
        </p>

        {% include 'sidebar_menu.html' %}


        <!-- Row of Development Administration Buttons underneath -->
        {% if request.current_profile.status == 'gm' and '127.0.0.1' in request.get_host%}
            <div class="mt-2 ml-1 mr-n1 d-flex flex-wrap">
                <div class="mr-md-auto py-1 px-1 px-md-0">
                    <a class="btn btn-outline-secondary icon-database-backup py-2" href="{% url 'technicalities:backup-db' %}"
                        data-toggle="tooltip" data-placement="bottom" title="Wykonaj lokalny backup bazy GCP">
                    </a>
                </div>
                <div class="mr-md-auto py-1 px-1 px-md-0">
                    <a class="btn btn-outline-info icon-download-cloud py-2" href="{% url 'technicalities:update-local-db' %}"
                        onclick="return confirm('Potwierdź nadpisanie bazy lokalnej przez bazę produkcyjną!');"
                        data-toggle="tooltip" data-placement="bottom" title="GCP --> LOCAL">
                    </a>
                </div>
                <div class="mr-md-auto py-1 px-1 px-md-0">
                    <a class="btn btn-outline-danger icon-upload-cloud py-2" href="{% url 'technicalities:update-prod-db' %}"
                        onclick="return confirm('Potwierdź nadpisanie bazy PRODUKCYJNEJ przez bazę lokalną!');"
                        data-toggle="tooltip" data-placement="bottom" title="LOCAL --> GCP">
                    </a>
                </div>
                <div class="mr-md-auto py-1 px-1 px-md-0">
                    <a class="btn btn-outline-secondary icon-cloud py-2" href="#"
                        data-toggle="tooltip" data-placement="bottom" title="Idź do konsoli GCP">
                    </a>
                </div>
            </div>
        {% endif %}

        <br>

    </aside>
</div>
