{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block head_extra %}
    <link rel="stylesheet" href="{% static 'css/rules.css' %}" xmlns="http://www.w3.org/1999/html">
{% endblock head_extra %}

{% block breadcrumb %}
    <li class="breadcrumb-item"><a href="{% url 'rules:main' %}">Zasady</a></li>
    <li class="breadcrumb-item active">{{ page_title }}</li>
{% endblock breadcrumb %}

{% block content %}
    <br><br><br><br>

    <h2 class="rules">Klasa broni</h2>
    <br>
    <p>
        Podział broni na Klasy jest związane przede wszystkim z zasadami dotyczącymi Biegłości w broni.
        Spośród 4 poziomów Biegłości (Brak zdolności [0], Zdolność [1], Biegłość [2], Specjalizacja [3]) pierwsze trzy dotyczą całej Klasy broni.
        Oznacza to, że postać mająca Biegłość w Broniach drzewcowych równie sprawnie włada włócznią co halabardą.
        Jest to oczywiście uproszczenie, jednak zmierza o oddania tej prawidłowości, że władanie niektórymi typami broni rządzi się tymi samym zasadami.
        Najlepszym przykładem jest Broń zamachowa, do której należą zarówno proca czy bolas, jak i korbacz czy kiścień.
    </p>


    <table class="weapons">
        {% for weapon_class in weapons_classes_with_types_dict %}
        <colgroup>
            <col class="class">
            <col class="delay">
            <col class="damage">
            <col class="damage-type">
            <col class="special">
            <col class="range">
            <col class="size">
            <col class="trait">
            <col class="price">
            <col class="weight">
        </colgroup>
        <thead class="align-center">
            <tr>
                <th class="small-caps align-left">&nbsp;{{ weapon_class.name }}</th>
                <th>Opóźń</th>
                <th>OBR<br>M / D</th>
                <th>OBR<br>Typ</th>
                <th>Specjalne</th>
                <th>Zasięg</th>
                <th>Rozm</th>
                <th>Cecha</th>
                <th>Cena<br>≈</th>
                <th>Waga<br>≈</th>
            </tr>
        </thead>
        <tbody>
            {% for weapon_type in weapons_classes_with_types_dict|dict_lookup:weapon_class %}
                <tr>
                    <td>&nbsp;{{ weapon_type.name }}</td>
                    <td class="align-center">{{ weapon_type.delay }}</td>
                    <td class="align-center">{{ weapon_type.damage_summary }}</td>
                    <td class="align-center">{{ weapon_type.damage_type }}</td>
                    <td class="align-center"><small>{{ weapon_type.special|linebreaksbr }}</small></td>
                    <td class="align-center">{% if weapon_type.range %}{{ weapon_type.range }}{% endif %}</td>
                    <td class="align-center">{{ weapon_type.size }}</td>
                    <td class="align-center">{{ weapon_type.trait }}</td>
                    <td class="align-center">{{ weapon_type.avg_price_value }} {{ weapon_type.avg_price_currency }}</td>
                    <td class="align-center">{{ weapon_type.avg_weight }}</td>
                </tr>
            {% endfor %}
        </tbody>
        {% endfor %}
    </table>
    <br><br>

    <h5><b>Legenda</b></h5>
    <br>
    <table class="key">
        <colgroup>
            <col class="point">
            <col class="explanation">
        </colgroup>
        <tbody>
            <tr><td>&nbsp;nie zabija!</td><td>Broń zadająca obrażenia, które raczej nie są w stanie spowodować śmierci.</td></tr>
            <tr><td>&nbsp;1 AT/2r</td><td>Wskazuje liczbę AT/R w przypadku broni, której użycie wymaga długiego przygotowania.</td></tr>
            <tr><td>&nbsp;Oszołomienie 15%</td><td>Wskazuje szanse na oszołomienie przeciwnika w przypadku trafienia (przeciwnik przez 1r nie może atakować - może przejść do Defensywy).</td></tr>
            <tr><td>&nbsp;+Parowanie</td><td>Broń umożliwiająca parowanie, czyli zastosowanie premii z KON do KP.</td></tr>
            <tr><td>&nbsp;Przeb+3</td><td>Przebicie broni określa, ile punktów Wyparowań zbroi ignoruje w przypadku trafienia.</td></tr>
            <tr><td>&nbsp;K:Przeb+1</td><td>Wskazuje, że Przebicie jest zależne od zastosowania konkretnego Typu OBR przy broni o wielu typach.</td></tr>
            <tr><td>&nbsp;Szarża konna +1k6 OBR</td><td>Określa dodatkowe OBR przy broni o dewastującej szarży w przypadku zastosowana z wierzchowca.</td></tr>
            <tr><td>&nbsp;vs. szarży +1TRAF +1OBR</td><td>Modyfikatory sytuacyjne broni nadającej się do przyjęcia szarży (sumują się z normalną premią).</td></tr>
        </tbody>
    </table>




{% endblock content %}
