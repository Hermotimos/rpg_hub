{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}


{% block head_extra %}
    <link rel="stylesheet" href="{% static 'css/characters.css' %}" xmlns="http://www.w3.org/1999/html">
{% endblock head_extra %}

{% block content %}
    <br><br><br>
    
    <!-- SKILLS -->
    {% for skill in skills %}
        {% if skill.image %}
            <img src="{{ skill.image.url }}" class="img-skill">
        {% else %}
            <img src="{% static 'img/skill-default.png' %}" class="img-skill">
        {% endif %}
        <h1 class="pt-2" data-toggle="collapse" data-target="#{{ skill.short_name }}">
            <b class="hover-blue">&nbsp;{{ skill.name }} [{{ skill.skill_levels.all|get_max_skill_level }}]</b>
            <small class="text-muted smaller"> [{{ skill.tested_trait }}]</small>
        </h1>
        
        <div id="{{ skill.short_name }}" class="collapse">
            <br>
            <table class="ml-4">
                {% for skill_level in skill.skill_levels.all %}
                <tr>
                    {% with level_img='img/'|add:skill_level.level|add:'.png' %}
                        <td class="align-top"><img class="img-numeral" src="{% static level_img %}" alt="Skill level img"></td>
                        <td class="align-bottom pl-1 text-justify">{% if skill_level.description %}{{ skill_level.description|linebreaksbr }}{% endif %}<br><br></td>
                    {% endwith %}
                </tr>
                {% endfor %}
            </table>
        </div>
        <br>
    {% endfor %}
    
    <br><br>

    <!-- SYNERGIES-->
    {% for synergy in synergies %}
        {% for skill in synergy.skills.all %}
            {% if skill.image %}
                <img src="{{ skill.image.url }}" class="img-skill">
            {% else %}
                <img src="{% static 'img/skill-default.png' %}" class="img-skill">
            {% endif %}
        {% endfor %}
        
        <h2 class="pt-2" data-toggle="collapse" data-target="#{{ synergy.short_name }}">
            <b class="hover-blue">&nbsp;{{ synergy.name }} [{{ synergy.synergy_levels.all|get_max_skill_level }}]</b>
        </h2>
        <br>
        <div id="{{ synergy.short_name }}" class="collapse">
            <br>
            <table class="ml-4">
                {% for synergy_level in synergy.synergy_levels.all %}
                <tr>
                    {% with level_img='img/'|add:synergy_level.level|add:'.png' %}
                        <td class="align-top"><img class="img-numeral" src="{% static level_img %}" alt="Synergy level img"></td>
                        <td class="align-bottom pl-1 text-justify">{% if synergy_level.description %}{{ synergy_level.description|linebreaksbr }}{% endif %}<br><br></td>
                    {% endwith %}
                </tr>
                {% endfor %}
            </table>
        </div>
    {% endfor %}

{% endblock content %}

