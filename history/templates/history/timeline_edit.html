{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}
{% load crispy_forms_tags %}

{% block head_extra %}
    {{ form.media }}
    <link rel="stylesheet" href="{% static 'css/history.css' %}">
{% endblock head_extra %}

{% block breadcrumb %}
    <li class="breadcrumb-item"><a href="{% url 'history:timeline-main' %}">Kalendarium</a></li>
    <li class="breadcrumb-item"><a href="javascript:history.go(-1)">(...)</a></li>
    <li class="breadcrumb-item active">{{ page_title }}</li>
{% endblock breadcrumb %}

{% block content %}
    <br><br><br>
    <form method="POST">
        {% csrf_token %}
        {{ form.game_no|as_crispy_field }}
        <div class="form-row">
            <div class="form-group col-md-3 mb-0">{{ form.year|as_crispy_field }}</div>
            <div class="form-group col-md-3 mb-0">{{ form.season|as_crispy_field }}</div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-2 mb-0">{{ form.day_start|as_crispy_field }}</div>
            <div class="form-group col-md-2 mb-0">{{ form.day_end|as_crispy_field }}</div>
        </div>
        {{ form.description|as_crispy_field }}
        <div class="form-row">
            <div class="form-group col-md-4 mb-0">{{ form.threads|as_crispy_field }}</div>
            <div class="form-group col-md-3 mb-0">{{ form.participants|as_crispy_field }}</div>
            <div class="form-group col-md-3 mb-0">{{ form.informed|as_crispy_field }}</div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-4 mb-0">{{ form.general_location|as_crispy_field }}</div>
            <div class="form-group col-md-3 mb-0">{{ form.specific_locations|as_crispy_field }}</div>
        </div>
        <br>
        <input type="hidden" name="next" value="{{ request.META.HTTP_REFERER }}">
        <input class="btn btn-dark" type="submit" value="Zapisz zmiany"/>
    </form>
{% endblock content %}