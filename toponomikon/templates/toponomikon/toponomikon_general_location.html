{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block head_extra %}
    <link rel="stylesheet" href="{% static 'css/toponomikon.css' %}">
{% endblock head_extra %}

{% block content %}
    <br>

    <article>
        <section class="mb-5">
            <div class="container">
                
                <div class="row">
                    <img class="mb-4 toponomikon {% if is_gen_loc_known_only_indirectly %} img-grayscale {% endif %}"
                         src="{% if gen_loc.main_image %} {{ gen_loc.main_image.image.url }} {% else %} {{ gen_loc.location_type.default_img.image.url }} {% endif %}"
                         alt="General location img">
                </div>
                <div class="row">
                    <div class="col-md-11 p-0">
                        <h6 class="font-18 font-italic linebreaks-style text-justify">{{ gen_loc.description|linebreaks }}</h6>
                    </div>
                    <div class="col-md-1">
                        <a class="btn btn-outline-dark icon-inform mt-1" href="{% url 'toponomikon:inform' gen_loc.id '0' %}"></a>
                        <a class="btn btn-outline-dark icon-note mt-1 disabled" href="#"></a>
                    </div>
                </div>
                
            </div>
        </section>
        
        <section>
            <h2><b class="hover-blue" data-toggle="collapse" data-target="#specific_locations">Lokacje</b></h2>
            <div id="specific_locations" class="collapse mt-4 ml-2">
                {% if not spec_locs %}
                    <p class="font-18 font-italic pt-1 pl-5 text-justify">Terra incognita...</p>
                {% else %}
                    <div class="container">
                        {% for location in spec_locs %}
                        {% with view='toponomikon:specific-location' %}
                            {% include 'toponomikon/_location.html' %}
                        {% endwith %}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            <br>
        </section>
    
        <section>
            {% if knowledge_packets %}
                <h2><b class="hover-blue" data-toggle="collapse" data-target="#knowledge-packets">Szczegółowe informacje o krainie</b></h2>
                <div id="knowledge-packets" class="collapse mt-4">
                    {% for kn_packet in knowledge_packets %}
                        {% include '_knowledge_packet.html' %}
                    {% endfor %}
                </div>
            {% endif %}
        </section>
        
    </article>
{% endblock content %}